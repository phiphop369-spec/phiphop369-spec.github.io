<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Are-Care | ‡∏≠‡∏≤‡∏£‡∏µ‡πÅ‡∏Ñ‡∏£‡πå</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --blue-main: #3498db; --blue-light: #ebf5fb; --white: #ffffff;
            --gray: #7f8c8d; --text: #2c3e50; --danger: #e74c3c;
        }
        * { box-sizing: border-box; font-family: 'Sarabun', sans-serif; transition: 0.3s; }
        body { margin: 0; background-color: #f4f7f6; color: var(--text); }
        
        /* Navigation */
        nav {
            background: var(--white); padding: 15px 5%; display: flex; 
            justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000;
        }
        .nav-links span {
            margin-left: 20px; cursor: pointer; font-weight: bold; color: var(--gray);
        }
        .nav-links span:hover, .nav-links span.active { color: var(--blue-main); }

        .container { max-width: 900px; margin: 30px auto; padding: 20px; }
        .page { display: none; animation: fadeIn 0.5s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Components */
        .card { background: var(--white); padding: 30px; border-radius: 20px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); text-align: center; }
        .btn {
            background: var(--blue-main); color: white; border: none; padding: 12px 25px;
            border-radius: 50px; cursor: pointer; font-weight: bold; margin: 10px;
        }
        .btn:hover { transform: scale(1.05); background: #2980b9; }

        /* Chat System */
        .chat-box {
            height: 450px; background: #f9f9f9; border-radius: 15px; 
            display: flex; flex-direction: column; overflow: hidden; border: 1px solid #eee;
        }
        #chat-content { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .msg { padding: 12px 18px; border-radius: 20px; max-width: 80%; line-height: 1.4; position: relative; }
        .msg-bot { background: #eee; align-self: flex-start; }
        .msg-user { background: var(--blue-main); color: white; align-self: flex-end; }
        .typing { font-size: 0.8rem; color: var(--gray); margin-bottom: 5px; display: none; }
        .chat-input-area { display: flex; padding: 15px; background: white; border-top: 1px solid #eee; }
        .chat-input-area input { flex: 1; border: 1px solid #ddd; padding: 10px 20px; border-radius: 30px; outline: none; }

        /* Survey */
        .opt-item {
            background: #fff; border: 2px solid #eee; padding: 15px; margin: 10px 0;
            border-radius: 12px; cursor: pointer; text-align: left;
        }
        .opt-item:hover { border-color: var(--blue-main); background: var(--blue-light); }
        .progress-bar { height: 8px; background: #eee; border-radius: 10px; margin: 20px 0; overflow: hidden; }
        #progress-fill { height: 100%; background: var(--blue-main); width: 0%; }
    </style>
</head>
<body>

<nav>
    <div style="font-size: 1.5rem; font-weight: bold; color: var(--blue-main);">Are-Care</div>
    <div class="nav-links">
        <span onclick="showPage('home')" id="link-home" class="active">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
        <span onclick="showPage('survey')" id="link-survey">‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</span>
        <span onclick="showPage('chat')" id="link-chat">‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡∏µ</span>
    </div>
</nav>

<div class="container">
    <div id="page-home" class="page active">
        <div class="card">
            <h1>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà ‡∏≠‡∏≤‡∏£‡∏µ‡πÅ‡∏Ñ‡∏£‡πå</h1>
            <p>‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÅ‡∏•‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏´‡πâ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á</p>
            <div style="background: var(--blue-light); padding: 20px; border-radius: 15px; margin: 20px 0;">
                <strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏™‡∏†‡∏≤‡∏ß‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
            </div>
            <p><strong>‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥:</strong> ‡∏ô‡∏≤‡∏¢‡∏û‡∏¥‡∏†‡∏û ‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πâ‡∏≤‡∏ß‡πÑ‡∏Å‡∏•, ‡∏ô‡∏≤‡∏¢‡∏®‡∏∏‡∏†‡∏Å‡∏≤‡∏ô‡∏ï‡πå ‡∏ö‡∏∏‡∏ç‡πÅ‡∏™‡∏á, ‡∏ô‡∏≤‡∏¢‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡πÄ‡∏ó‡∏û ‡∏Ñ‡∏≥‡πÇ‡∏Ç‡∏á</p>
            <p>‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡πÄ‡∏ß‡∏µ‡∏¢‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏∏‡πâ‡∏á</p>
            <button class="btn" onclick="showPage('survey')">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÉ‡∏à‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢</button>
        </div>
    </div>

    <div id="page-survey" class="page">
        <div id="survey-selector" class="card">
            <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
            <button class="btn" onclick="initSurvey('phq9')">‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÇ‡∏£‡∏Ñ‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤ (PHQ-9)</button>
            <button class="btn btn" onclick="initSurvey('gad7')" style="background:#5dade2">‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏• (GAD-7)</button>
            <button class="btn btn" onclick="initSurvey('eq')" style="background:#48c9b0">‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏î‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå (EQ)</button>
        </div>

        <div id="survey-box" class="card hidden">
            <div class="progress-bar"><div id="progress-fill"></div></div>
            <h3 id="q-text">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</h3>
            <div id="opt-list"></div>
            <p style="font-size: 0.8rem; color: #999; margin-top: 15px;">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="q-curr">1</span> / <span id="q-total">0</span></p>
        </div>

        <div id="survey-result" class="card hidden">
            <h2>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
            <div id="res-score" style="font-size: 3rem; font-weight: bold; color: var(--blue-main);">0</div>
            <h3 id="res-label">‡∏õ‡∏Å‡∏ï‡∏¥</h3>
            <p id="res-desc"></p>
            <button class="btn" onclick="showPage('survey')">‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô</button>
            <a href="tel:1323" class="btn" style="background:var(--danger); text-decoration:none;">‡∏™‡∏≤‡∏¢‡∏î‡πà‡∏ß‡∏ô 1323</a>
        </div>
    </div>

    <div id="page-chat" class="page">
        <div class="card" style="padding: 10px;">
            <h3>‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡∏µ üòä</h3>
            <div class="chat-box">
                <div id="chat-content">
                    <div class="msg msg-bot">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏£‡∏µ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏°‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞!</div>
                </div>
                <div id="bot-typing" class="typing" style="margin-left: 20px;">‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡∏µ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå...</div>
                <div class="chat-input-area">
                    <input type="text" id="chat-in" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..." onkeypress="if(event.key==='Enter') botTalk()">
                    <button onclick="botTalk()" class="btn" style="margin:0 0 0 10px; padding:10px 20px;">‡∏™‡πà‡∏á</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤ ---
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-links span').forEach(s => s.classList.remove('active'));
        document.getElementById('page-' + pageId).classList.add('active');
        document.getElementById('link-' + pageId).classList.add('active');
        
        // Reset survey state if leaving survey page
        if(pageId !== 'survey') {
            document.getElementById('survey-selector').classList.remove('hidden');
            document.getElementById('survey-box').classList.add('hidden');
            document.getElementById('survey-result').classList.add('hidden');
        }
    }

    // --- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö ---
    const db = {
        phq9: {
            name: "‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÇ‡∏£‡∏Ñ‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤",
            questions: ["‡πÄ‡∏ö‡∏∑‡πà‡∏≠ ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏•‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏ô", "‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à ‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ", "‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏ö‡πÜ ‡∏ï‡∏∑‡πà‡∏ô‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡πÑ‡∏õ", "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏°‡∏µ‡πÅ‡∏£‡∏á", "‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ", "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏ú‡∏¥‡∏î‡∏´‡∏ß‡∏±‡∏á", "‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£", "‡∏û‡∏π‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ä‡πâ‡∏≤‡∏•‡∏á‡∏à‡∏ô‡∏Ñ‡∏ô‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÄ‡∏´‡πá‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏™‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏™‡πà‡∏≤‡∏¢", "‡∏Ñ‡∏¥‡∏î‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ñ‡∏á‡∏à‡∏∞‡∏î‡∏µ"],
            opts: ["‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢", "‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡∏ß‡∏±‡∏ô", "‡∏°‡∏µ‡∏ö‡πà‡∏≠‡∏¢", "‡∏°‡∏µ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô"],
            calc: (s) => {
                if(s <= 4) return {l: "‡∏õ‡∏Å‡∏ï‡∏¥", d: "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤"};
                if(s <= 9) return {l: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢", d: "‡∏Ñ‡∏ß‡∏£‡∏´‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢"};
                if(s <= 14) return {l: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", d: "‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏¥‡∏ï‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô"};
                return {l: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á", d: "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÇ‡∏î‡∏¢‡∏î‡πà‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö"};
            }
        },
        gad7: {
            name: "‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•",
            questions: ["‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡∏™‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏™‡πà‡∏≤‡∏¢ ‡∏Å‡∏±‡∏á‡∏ß‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πâ‡∏≤‡∏ß‡∏∏‡πà‡∏ô‡πÉ‡∏à", "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏¢‡∏∏‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÑ‡∏î‡πâ", "‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÜ ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", "‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏¢‡∏≤‡∏Å", "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏ß‡∏≤‡∏¢‡∏à‡∏ô‡∏ô‡∏±‡πà‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î", "‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î‡∏á‡πà‡∏≤‡∏¢", "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ß‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô"],
            opts: ["‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢", "‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡∏ß‡∏±‡∏ô", "‡∏°‡∏µ‡∏ö‡πà‡∏≠‡∏¢", "‡∏°‡∏µ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô"],
            calc: (s) => {
                if(s <= 4) return {l: "‡∏õ‡∏Å‡∏ï‡∏¥", d: "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏õ‡∏Å‡∏ï‡∏¥"};
                if(s <= 9) return {l: "‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢", d: "‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏∂‡∏Å‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢"};
                return {l: "‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á", d: "‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥"};
            }
        }
    };

    let curS = null, curIdx = 0, totalS = 0;

    function initSurvey(key) {
        curS = db[key] || { questions: Array(15).fill("‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° EQ ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô..."), opts: ["‡πÑ‡∏°‡πà‡∏à‡∏£‡∏¥‡∏á", "‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á", "‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î"], calc: (s)=>({l:"‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô EQ", d:"‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö"}) };
        curIdx = 0; totalS = 0;
        document.getElementById('survey-selector').classList.add('hidden');
        document.getElementById('survey-box').classList.remove('hidden');
        document.getElementById('q-total').innerText = curS.questions.length;
        renderQ();
    }

    function renderQ() {
        document.getElementById('q-text').innerText = curS.questions[curIdx];
        document.getElementById('q-curr').innerText = curIdx + 1;
        const list = document.getElementById('opt-list');
        list.innerHTML = '';
        curS.opts.forEach((o, i) => {
            const d = document.createElement('div');
            d.className = 'opt-item';
            d.innerText = o;
            d.onclick = () => {
                totalS += i;
                if(++curIdx < curS.questions.length) renderQ();
                else finishS();
            };
            list.appendChild(d);
        });
        document.getElementById('progress-fill').style.width = (curIdx / curS.questions.length * 100) + '%';
    }

    function finishS() {
        document.getElementById('survey-box').classList.add('hidden');
        document.getElementById('survey-result').classList.remove('hidden');
        const res = curS.calc(totalS);
        document.getElementById('res-score').innerText = totalS;
        document.getElementById('res-label').innerText = res.l;
        document.getElementById('res-desc').innerText = res.d;
    }

    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞ ---
    const responses = {
        greet: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡∏ö?", "‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏ô‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏ô‡∏∞", "‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏•‡πà‡∏≤‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢"],
        stress: ["‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡∏£‡∏±‡∏ö ‡∏•‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÑ‡∏´‡∏°?", "‡∏™‡∏π‡πâ‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡πâ‡∏ß", "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡πá‡∏û‡∏±‡∏Å‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏∞ ‡∏ú‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏™‡∏°‡∏≠"],
        sad: ["‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö", "‡∏Å‡∏≠‡∏î‡∏õ‡∏•‡∏≠‡∏ö‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏à‡∏∞‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô", "‡∏ú‡∏°‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏∞ ‡πÉ‡∏à‡πÄ‡∏¢‡πá‡∏ô‡πÜ ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"],
        help: ["‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à‡∏°‡∏≤‡∏Å ‡∏•‡∏≠‡∏á‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏π‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?", "‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏•‡∏≠‡∏á‡πÇ‡∏ó‡∏£ 1323 ‡∏™‡∏≤‡∏¢‡∏î‡πà‡∏ß‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏¥‡∏ï‡∏î‡∏π‡∏ô‡∏∞ ‡∏ü‡∏£‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö"],
        unknown: ["‡∏ú‡∏°‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏ï‡πà‡∏ú‡∏°‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏£‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏ô‡∏∞ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏°‡∏≤‡∏≠‡∏µ‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢", "‡∏≠‡∏∑‡∏°‡∏°‡∏°... ‡πÄ‡∏•‡πà‡∏≤‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏ü‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà", "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏ï‡πà‡∏≠‡∏´‡∏£‡∏≠?"]
    };

    function botTalk() {
        const input = document.getElementById('chat-in');
        const text = input.value.trim();
        if(!text) return;

        addMsg(text, 'user');
        input.value = '';
        
        const typing = document.getElementById('bot-typing');
        typing.style.display = 'block';

        setTimeout(() => {
            typing.style.display = 'none';
            let reply = "";
            const t = text.toLowerCase();
            
            if(t.includes("‡∏î‡∏µ") || t.includes("‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ")) reply = rand(responses.greet);
            else if(t.includes("‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î") || t.includes("‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢")) reply = rand(responses.stress);
            else if(t.includes("‡πÄ‡∏®‡∏£‡πâ‡∏≤") || t.includes("‡πÅ‡∏¢‡πà")) reply = rand(responses.sad);
            else if(t.includes("‡∏ä‡πà‡∏ß‡∏¢") || t.includes("‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥")) reply = rand(responses.help);
            else reply = rand(responses.unknown);

            addMsg(reply, 'bot');
        }, 1000);
    }

    function rand(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
    function addMsg(text, sender) {
        const content = document.getElementById('chat-content');
        const div = document.createElement('div');
        div.className = `msg msg-${sender}`;
        div.innerText = text;
        content.appendChild(div);
        content.scrollTop = content.scrollHeight;
    }
</script>
</body>
</html>
